{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<style>
  /* Modern Variables */
  :root {
    --primary: #4a6bff;
    --primary-light: #eef1ff;
    --secondary: #6c63ff;
    --success: #10b981;
    --success-light: #d1fae5;
    --dark: #1f2937;
    --light: #f9fafb;
    --gray: #6b7280;
    --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    --transition: all 0.3s ease;
  }

  /* Base Styles */
  body {
    overflow-x: hidden;
  }

  .section {
    padding: 5rem 0;
    position: relative;
  }

  .section-title {
    font-weight: 800;
    color: var(--dark);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .section-subtitle {
    color: var(--gray);
    font-size: 1.1rem;
    max-width: 700px;
    margin: 0 auto 3rem;
  }

  /* Hero Section */
  .hero-section {
    background: var(--gradient);
    color: white;
    padding: 7rem 0 5rem;
    position: relative;
    overflow: hidden;
  }

  .hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29-22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
    opacity: 0.5;
    z-index: 0;
  }

  .hero-content {
    position: relative;
    z-index: 2;
  }

  .hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    margin-bottom: 2.5rem;
    opacity: 0.9;
    max-width: 600px;
  }

  .hero-image {
    position: relative;
    z-index: 1;
    animation: float 6s ease-in-out infinite, pulse 2s infinite alternate;
    filter: drop-shadow(0 25px 35px rgba(0,0,0,0.15));
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 20px;
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateY(-5deg) rotateX(2deg);
    border: 8px solid white;
    box-shadow: 0 30px 60px -15px rgba(0,0,0,0.1);
  }

  @keyframes pulse {
    0% { transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(0); }
    100% { transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(-10px); }
  }

  .hero-image:hover {
    transform: perspective(1000px) rotateY(0) rotateX(0) scale(1.02);
    filter: drop-shadow(0 30px 40px rgba(0,0,0,0.2));
  }

  @keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0px); }
  }

  /* Value Proposition Cards */
  .value-card {
    background: white;
    border-radius: 1rem;
    padding: 2.5rem;
    height: 100%;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border: 1px solid rgba(0,0,0,0.05);
    position: relative;
    overflow: hidden;
  }

  .value-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
  }

  .value-card.primary {
    border-top: 4px solid var(--primary);
  }

  .value-card.success {
    border-top: 4px solid var(--success);
  }

  .card-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    font-size: 2rem;
  }

  .card-icon.primary {
    background: var(--primary-light);
    color: var(--primary);
  }

  .card-icon.success {
    background: var(--success-light);
    color: var(--success);
  }

  /* How It Works */
  .step-card {
    text-align: center;
    padding: 2rem 1.5rem;
    position: relative;
    z-index: 1;
  }

  .step-number {
    width: 60px;
    height: 60px;
    background: var(--gradient);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 auto 1.5rem;
    position: relative;
    z-index: 1;
  }

  .step-number::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: var(--gradient);
    z-index: -1;
    opacity: 0.2;
    transform: scale(1.5);
  }

  /* Testimonials & Reviews */
  .testimonial-section {
    position: relative;
    overflow: hidden;
  }

  /* Review Cards */
  .review-card {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
  }

  .review-card::before {
    content: '"';
    position: absolute;
    top: 20px;
    right: 20px;
    font-family: Georgia, serif;
    font-size: 80px;
    color: rgba(74, 107, 255, 0.1);
    line-height: 1;
    z-index: 0;
  }

  .review-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .review-card .review-rating .badge {
    font-weight: 500;
    padding: 0.4rem 0.8rem;
    border-radius: 50px;
    font-size: 0.8rem;
    transition: all 0.3s ease;
  }

  .review-card .review-rating .badge:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
  }

  /* Star Rating */
  .star-rating {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    margin-bottom: 1rem;
  }

  .star-rating input {
    display: none;
  }

  .star-rating label {
    color: #ddd;
    font-size: 1.5rem;
    padding: 0 2px;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .star-rating input:not(:checked) ~ label:hover,
  .star-rating input:not(:checked) ~ label:hover ~ label {
    color: #ffd700;
  }

  .star-rating input:checked ~ label {
    color: #ffd700;
  }

  /* Floating Button */
  .btn-floating {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    transition: all 0.3s ease;
    border: none;
  }

  .btn-floating:hover {
    transform: translateY(-5px) scale(1.1);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  /* Animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in-up {
    animation: fadeInUp 0.6s ease forwards;
  }

  /* Responsive Adjustments */
  @media (max-width: 768px) {
    .review-card {
      margin-bottom: 1.5rem;
    }

    .btn-floating {
      width: 50px;
      height: 50px;
      font-size: 1.2rem;
      bottom: 20px;
      right: 20px;
    }
  }

  .testimonial-card {
    background: white;
    border-radius: 1rem;
    padding: 2.5rem;
    box-shadow: var(--shadow);
    height: 100%;
    transition: var(--transition);
    border: 1px solid rgba(0,0,0,0.05);
    position: relative;
    z-index: 1;
    overflow: hidden;
  }

  .testimonial-card::before {
    content: '"\201C';
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 8rem;
    color: var(--primary-light);
    font-family: Georgia, serif;
    line-height: 1;
    z-index: -1;
    opacity: 0.5;
  }

  .testimonial-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 40px rgba(74, 107, 255, 0.15);
  }

  .testimonial-img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto 1.5rem;
    display: block;
    border: 4px solid white;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    transition: var(--transition);
  }

  .testimonial-card:hover .testimonial-img {
    transform: scale(1.05);
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
  }

  .rating {
    color: #ffc107;
    margin-bottom: 1rem;
    font-size: 1.1rem;
  }

  .testimonial-text {
    font-style: italic;
    color: var(--dark);
    line-height: 1.7;
    margin-bottom: 1.5rem;
    position: relative;
    z-index: 1;
  }

  .testimonial-author {
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: var(--dark);
  }

  .testimonial-role {
    color: var(--gray);
    font-size: 0.9rem;
  }

  /* Review Form */
  .review-form {
    background: white;
    border-radius: 1rem;
    padding: 2.5rem;
    box-shadow: var(--shadow);
    border: 1px solid rgba(0,0,0,0.05);
  }

  .review-form .form-control {
    border-radius: 0.75rem;
    padding: 0.75rem 1rem;
    border: 1px solid rgba(0,0,0,0.1);
    transition: var(--transition);
  }

  .review-form .form-control:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 0.25rem rgba(74, 107, 255, 0.15);
  }

  .rating-input {
    display: flex;
    justify-content: center;
    margin-bottom: 1.5rem;
    direction: rtl;
  }

  .rating-input input {
    display: none;
  }

  .rating-input label {
    font-size: 2rem;
    color: #ddd;
    cursor: pointer;
    padding: 0 5px;
    transition: var(--transition);
  }

  .rating-input input:checked ~ label,
  .rating-input input:checked ~ label ~ label,
  .rating-input label:hover,
  .rating-input label:hover ~ label {
    color: #ffc107;
  }

  .rating-input input:checked + label:hover,
  .rating-input input:checked ~ label:hover,
  .rating-input label:hover ~ input:checked ~ label {
    color: #ffd700;
  }

  /* Responsive Adjustments */
  @media (max-width: 991.98px) {
    .hero-title {
      font-size: 2.5rem;
    }

    .hero-subtitle, .section-subtitle {
      font-size: 1.1rem;
    }

    .section {
      padding: 4rem 0;
    }

    .value-card, .testimonial-card {
      margin-bottom: 1.5rem;
    }
  }

  @media (max-width: 767.98px) {
    .hero-section {
      text-align: center;
      padding: 6rem 0 4rem;
    }

    .hero-title {
      font-size: 2.2rem;
    }

    .hero-buttons {
      justify-content: center;
    }
  }
</style>

<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <div class="hero-content">
          <h1 class="hero-title">Ride the Future with E-Bike Rentals</h1>
          <p class="hero-subtitle">Affordable, eco-friendly, and convenient e-bike rentals for your daily commute or weekend adventures. Join our community of riders and providers today.</p>
          <div class="d-flex gap-3 flex-wrap hero-buttons">
            <a href="{% url 'signup' %}" class="btn btn-light btn-lg px-4">Start Riding</a>
            <a href="#how-it-works" class="btn btn-outline-light btn-lg px-4">How It Works</a>
          </div>
        </div>
      </div>
      <div class="col-lg-6 mt-4 mt-lg-0">
        <img src="https://images.timesdrive.in/photo/msid-152417121/152417121.jpg"
             alt="Premium E-Bike"
             class="img-fluid rounded-4 hero-image">
      </div>
    </div>
  </div>
</section>

<!-- Value Proposition Section -->
<section class="section bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <span class="text-primary fw-bold">WHY CHOOSE US</span>
      <h2 class="section-title">Your Journey, Your Way</h2>
      <p class="section-subtitle">Whether you're looking to ride or earn, we've got you covered with flexible options for everyone.</p>
    </div>

    <div class="row g-4">
      <div class="col-lg-6">
        <div class="value-card primary">
          <div class="card-icon primary">
            <i class="fas fa-bicycle"></i>
          </div>
          <h3 class="text-center mb-3">Ride with Us</h3>
          <p class="text-muted text-center mb-4">
            Experience the freedom of eco-friendly transportation with our flexible rental options:
          </p>
          <ul class="text-start ps-4 mb-4">
            <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Hourly, daily, or weekly rentals</li>
            <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> No long-term commitments</li>
            <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Perfect for tourists and commuters</li>
            <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Easy online booking</li>
          </ul>
          <div class="text-center mt-4">
            <a href="{% url 'signup' %}" class="btn btn-primary px-4">Start Riding</a>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="value-card success">
          <div class="card-icon success">
            <i class="fas fa-hand-holding-usd"></i>
          </div>
          <h3 class="text-center mb-3">Earn as a Provider</h3>
          <p class="text-muted text-center mb-4">
            Turn your e-bike into a source of income with our provider program:
          </p>
          <ul class="text-start ps-4 mb-4">
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Weekly subscription model</li>
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Secure payment processing</li>
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> 24/7 support and maintenance</li>
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Easy bike management dashboard</li>
          </ul>
          <div class="text-center mt-4">
            <a href="{% url 'register_vehicle' %}" class="btn btn-success px-4">List Your Bike</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="py-5 my-5">
  <div class="container">
    <div class="text-center mb-5">
      <span class="text-primary fw-bold">WHY CHOOSE US</span>
      <h2 class="fw-bold">Revolutionize Your Ride</h2>
      <p class="text-muted">Experience the future of urban mobility</p>
    </div>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-bolt"></i>
          </div>
          <h4 class="text-center mb-3">Eco-Friendly</h4>
          <p class="text-muted text-center">Zero emissions, maximum efficiency. Help reduce your carbon footprint.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-wallet"></i>
          </div>
          <h4 class="text-center mb-3">Affordable</h4>
          <p class="text-muted text-center">Competitive pricing with flexible rental options for every budget.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <h4 class="text-center mb-3">Convenient</h4>
          <p class="text-muted text-center">Multiple pickup and drop-off locations across the city.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- How It Works -->
<section id="how-it-works" class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <span class="text-primary fw-bold">HOW IT WORKS</span>
      <h2 class="fw-bold">Rent in 3 Easy Steps</h2>
    </div>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="step-card">
          <div class="step-number">1</div>
          <h4 class="text-center mb-3">Create Account</h4>
          <p class="text-muted text-center">Sign up and verify your identity to get started.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="step-card">
          <div class="step-number">2</div>
          <h4 class="text-center mb-3">Book Your Ride</h4>
          <p class="text-muted text-center">Choose your e-bike and make a reservation.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="step-card">
          <div class="step-number">3</div>
          <h4 class="text-center mb-3">Ride & Enjoy</h4>
          <p class="text-muted text-center">Pick up and enjoy your eco-friendly ride.</p>
        </div>
      </div>
    </div>
  </section>



<!-- Testimonials Section -->
<section class="py-5 my-5 bg-light" id="testimonials">
  <div class="container">
    <div class="text-center mb-5">
      <span class="text-primary fw-bold">TESTIMONIALS</span>
      <h2 class="fw-bold">What Our Riders Say</h2>
      <p class="text-muted">Hear from our community of happy e-bike enthusiasts</p>
    </div>

    <div class="row g-4">
      {% for testimonial in testimonials %}
      <div class="{% if testimonial.is_highlighted %}col-md-12 col-lg-6{% else %}col-12 col-md-6 col-lg-4 col-xl-3{% endif %}">
        <div class="review-card{% if testimonial.is_highlighted %} featured-review{% endif %} p-4 rounded-4 h-100" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
          <div class="d-flex align-items-center mb-3">
            {% if testimonial.profile_image %}
            <img src="{{ testimonial.profile_image.url }}" alt="{{ testimonial.name }}" class="rounded-circle me-3" width="60" height="60">
            {% else %}
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed={{ testimonial.name|slugify }}" alt="{{ testimonial.name }}" class="rounded-circle me-3" width="60" height="60">
            {% endif %}
            <div>
              <h5 class="{% if testimonial.is_highlighted %}mb-0 fw-bold{% else %}mb-0 fw-semibold{% endif %}">{{ testimonial.name }}</h5>
              <div class="d-flex text-warning mb-1">
                {% if testimonial.rating >= 1 %}<i class="fas fa-star"></i>{% endif %}
                {% if testimonial.rating >= 2 %}<i class="fas fa-star"></i>{% endif %}
                {% if testimonial.rating >= 3 %}<i class="fas fa-star"></i>{% endif %}
                {% if testimonial.rating >= 4 %}<i class="fas fa-star"></i>{% endif %}
                {% if testimonial.rating >= 5 %}<i class="fas fa-star"></i>{% endif %}
              </div>
              <small class="text-muted">{{ testimonial.created_at|date:"M d, Y" }}</small>
            </div>
          </div>

          {% if testimonial.is_highlighted %}
          <p class="mb-3">{{ testimonial.message }}</p>
          <div class="review-highlights">
            {% if testimonial.rating_highlight_1 %}
            <div class="highlight-item">
              <i class="fas fa-check-circle text-success me-2"></i>
              <span>{{ testimonial.rating_highlight_1 }}</span>
            </div>
            {% endif %}
            {% if testimonial.rating_highlight_2 %}
            <div class="highlight-item">
              <i class="fas fa-check-circle text-success me-2"></i>
              <span>{{ testimonial.rating_highlight_2 }}</span>
            </div>
            {% endif %}
            {% if testimonial.rating_highlight_3 %}
            <div class="highlight-item">
              <i class="fas fa-check-circle text-success me-2"></i>
              <span>{{ testimonial.rating_highlight_3 }}</span>
            </div>
            {% endif %}
          </div>
          {% else %}
          <p class="mb-0">{{ testimonial.message }}</p>
          <div class="review-rating mt-3">
            {% if testimonial.rating_highlight_1 %}
            <span class="badge bg-primary bg-opacity-10 text-primary">
              <i class="fas fa-battery-full me-1"></i>{{ testimonial.rating_highlight_1 }}
            </span>
            {% endif %}
            {% if testimonial.rating_highlight_2 %}
            <span class="badge bg-primary bg-opacity-10 text-primary ms-2">
              <i class="fas fa-tachometer-alt me-1"></i>{{ testimonial.rating_highlight_2 }}
            </span>
            {% endif %}
          </div>
          {% endif %}
        </div>
      </div>
      {% endfor %}

      {% if not testimonials %}
      <div class="col-12">
        <div class="text-center py-5">
          <i class="fas fa-comment-dots fa-3x mb-3 text-muted"></i>
          <h4 class="fw-bold text-muted">No testimonials yet</h4>
          <p class="text-muted mb-4">Testimonials will appear here once added by admin.</p>
        </div>
      </div>
      {% endif %}
    </div>

    <div class="text-center mt-5">
      <button class="btn btn-outline-primary btn-lg" data-bs-toggle="modal" data-bs-target="#writeReviewModal">
        <i class="fas fa-edit me-2"></i>Write a Review
      </button>
    </div>
  </div>
</section>

<!-- Write Review Modal -->
<div class="modal fade" id="writeReviewModal" tabindex="-1" aria-labelledby="writeReviewModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="writeReviewModalLabel">Write a Review</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="reviewForm">
          <div class="mb-3">
            <label for="reviewerName" class="form-label">Your Name</label>
            <input type="text" class="form-control" id="reviewerName" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Rating</label>
            <div class="star-rating">
              <input type="radio" id="star5" name="rating" value="5" required>
              <label for="star5" title="5 stars"><i class="fas fa-star"></i></label>
              <input type="radio" id="star4" name="rating" value="4">
              <label for="star4" title="4 stars"><i class="fas fa-star"></i></label>
              <input type="radio" id="star3" name="rating" value="3">
              <label for="star3" title="3 stars"><i class="fas fa-star"></i></label>
              <input type="radio" id="star2" name="rating" value="2">
              <label for="star2" title="2 stars"><i class="fas fa-star"></i></label>
              <input type="radio" id="star1" name="rating" value="1">
              <label for="star1" title="1 star"><i class="fas fa-star"></i></label>
            </div>
          </div>
          <div class="mb-3">
            <label for="reviewText" class="form-label">Your Review</label>
            <textarea class="form-control" id="reviewText" rows="4" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary w-100">Submit Review</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- FAQ Section -->
<section class="py-5 my-5" id="faq">
  <div class="container">
    <div class="text-center mb-5">
      <span class="text-primary fw-bold">HAVE QUESTIONS?</span>
      <h2 class="fw-bold">Frequently Asked Questions</h2>
      <p class="text-muted">Find answers to common questions about our e-bike rental service</p>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="accordion" id="faqAccordion">
          <!-- FAQ Item 1 -->
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h3 class="accordion-header" id="headingOne">
              <button class="accordion-button bg-white text-dark fw-medium py-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                How do I rent an e-bike?
              </button>
            </h3>
            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Renting an e-bike is easy! Simply sign up for an account, browse available bikes, select your rental period, and complete the booking. You can pick up the bike at our designated locations or arrange for delivery (where available).
              </div>
            </div>
          </div>

          <!-- FAQ Item 2 -->
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h3 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed bg-white text-dark fw-medium py-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                What are the requirements to rent an e-bike?
              </button>
            </h3>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                To rent an e-bike, you must be at least 18 years old, have a valid government-issued ID, and a valid payment method. For certain models, a valid driver's license may be required. First-time users will need to complete a quick verification process.
              </div>
            </div>
          </div>

          <!-- FAQ Item 3 -->
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h3 class="accordion-header" id="headingThree">
              <button class="accordion-button collapsed bg-white text-dark fw-medium py-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                How does the pricing work?
              </button>
            </h3>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                We offer flexible pricing options including hourly, daily, and weekly rates. Pricing varies based on the e-bike model and rental duration. You'll see the total cost before confirming your booking, including any applicable taxes and fees. We also offer discounts for longer rental periods.
              </div>
            </div>
          </div>

          <!-- FAQ Item 4 -->
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h3 class="accordion-header" id="headingFour">
              <button class="accordion-button collapsed bg-white text-dark fw-medium py-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                What happens if the e-bike gets damaged?
              </button>
            </h3>
            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                We understand accidents happen. All rentals include basic damage protection. For significant damage due to misuse, there may be additional charges. We recommend thoroughly inspecting the bike before and after your ride and reporting any issues immediately. Our support team is available 24/7 to assist with any problems.
              </div>
            </div>
          </div>

          <!-- FAQ Item 5 -->
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h3 class="accordion-header" id="headingFive">
              <button class="accordion-button collapsed bg-white text-dark fw-medium py-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                Can I extend my rental period?
              </button>
            </h3>
            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Yes, you can extend your rental period if the e-bike is available. Simply log in to your account and request an extension through the booking section. Additional charges will apply based on the extended duration. We recommend requesting an extension at least 4 hours before your current rental period ends.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>

<!-- Submit Review Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-sm">
        <div class="card-body p-4">
          <h3 class="text-center mb-4">Share Your Experience</h3>
          <p class="text-center text-muted mb-4">We'd love to hear your feedback about our service</p>

          <form method="post" action="{% url 'submit_review' %}" id="reviewForm" class="needs-validation" novalidate>
            {% csrf_token %}
            {% if not user.is_authenticated %}
            <div class="mb-3">
              <label for="name" class="form-label">Your Name</label>
              <input type="text" class="form-control" name="name" id="name" placeholder="Your name (optional if logged in)">
            </div>
            {% endif %}

            <div class="mb-4">
              <label class="form-label d-block">Your Rating</label>
              <div class="rating-input mb-2">
                <input type="radio" id="star5" name="rating" value="5" required>
                <label for="star5" title="5 stars">★</label>
                <input type="radio" id="star4" name="rating" value="4">
                <label for="star4" title="4 stars">★</label>
                <input type="radio" id="star3" name="rating" value="3">
                <label for="star3" title="3 stars">★</label>
                <input type="radio" id="star2" name="rating" value="2">
                <label for="star2" title="2 stars">★</label>
                <input type="radio" id="star1" name="rating" value="1">
                <label for="star1" title="1 star">★</label>
              </div>
              <div id="ratingError" class="invalid-feedback">Please select a rating</div>
            </div>

            <div class="mb-4">
              <label for="message" class="form-label">Your Review</label>
              <textarea class="form-control" name="message" id="message" rows="4" placeholder="Share your experience..." required></textarea>
              <div class="invalid-feedback">Please enter your review message.</div>
            </div>

            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">
                <span class="spinner-border spinner-border-sm d-none" id="submitSpinner" role="status" aria-hidden="true"></span>
                <span id="submitText">Submit Review</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
  <div class="container text-center">
    <h2 class="mb-4">Ready to Start Riding?</h2>
    <p class="lead mb-4">Join thousands of satisfied riders today.</p>
    <a href="{% url 'signup' %}" class="btn btn-light btn-lg px-5">Get Started Now</a>
  </div>
</section>
{% endblock %}
